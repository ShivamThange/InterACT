<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Crypto Ecosystem: A Visual Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #F8F9FA;
            color: #495057;
        }
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
        }
        .parallax-bg {
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            opacity: 0.05;
        }
        .content-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px;
            width: 100%;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 9999px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: white;
        }
        .story-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem 1rem;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-toggle .chevron {
            transition: transform 0.3s ease-in-out;
        }
        .accordion-toggle.open .chevron {
            transform: rotate(180deg);
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
        }
        .gemini-button {
            background-color: #A3B1FF;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.8rem;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .gemini-button:hover {
            background-color: #8A9AFF;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #A3B1FF;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased leading-relaxed">
    <div class="parallax-bg"></div>
    <main class="relative">
        
        <header class="story-section text-center">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-5xl md:text-7xl font-bold text-gray-800">A Visual Analysis of the Crypto Ecosystem</h1>
                <p class="mt-6 text-xl text-gray-600">From a cypherpunk vision to a multi-trillion dollar asset class challenging the foundations of global finance.</p>
                <div class="mt-12 animate-bounce">
                    <svg class="w-8 h-8 text-gray-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
        </header>

        <section id="genesis" class="story-section bg-white/50">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">It Started With an Idea</h2>
                <p class="text-lg text-gray-600 mb-12">Before there was Bitcoin, there was a dream: digital money that no bank or government could control. This section explores the key milestones that turned that dream into a reality.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="content-card rounded-xl shadow-lg p-6">
                        <h3 class="text-2xl font-bold text-[#A3B1FF]">1983-1998</h3>
                        <p class="font-semibold mt-2">The Cypherpunks</p>
                        <p class="text-sm text-gray-600 mt-2">Privacy advocates and cryptographers imagined 'ecash', laying the groundwork for anonymous digital money.</p>
                    </div>
                    <div class="content-card rounded-xl shadow-lg p-6">
                        <h3 class="text-2xl font-bold text-[#A3B1FF]">2009</h3>
                        <p class="font-semibold mt-2">Bitcoin is Born</p>
                        <p class="text-sm text-gray-600 mt-2">The mysterious Satoshi Nakamoto releases Bitcoin, solving the "double-spending" problem with a technology called blockchain.</p>
                    </div>
                    <div class="content-card rounded-xl shadow-lg p-6">
                        <h3 class="text-2xl font-bold text-[#A3B1FF]">2015</h3>
                        <p class="font-semibold mt-2">Ethereum's Revolution</p>
                        <p class="text-sm text-gray-600 mt-2">Ethereum introduces "smart contracts," turning blockchain into a global computer for building unstoppable applications.</p>
                    </div>
                    <div class="content-card rounded-xl shadow-lg p-6">
                        <h3 class="text-2xl font-bold text-[#A3B1FF]">2024</h3>
                        <p class="font-semibold mt-2">Wall Street Arrives</p>
                        <p class="text-sm text-gray-600 mt-2">The U.S. approves Bitcoin ETFs, creating a regulated bridge for mainstream investors to enter the crypto market.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="market-scale" class="story-section">
            <div class="max-w-4xl mx-auto w-full">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">How Big is Crypto, Really?</h2>
                <p class="text-lg text-gray-600 text-center mb-12">The crypto market's value has exploded, but it's a volatile ride. These charts show the scale of its growth and which assets dominate the landscape.</p>
                
                <div class="space-y-4">
                    <div class="content-card rounded-xl shadow-lg">
                        <button class="accordion-toggle w-full p-6 text-left flex justify-between items-center">
                            <h3 class="text-2xl font-bold">Market Cap Growth: A Volatile Rocket Ship</h3>
                            <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0">
                                <p class="text-sm text-gray-600 mb-4">"Market Cap" is the total value of all coins combined. It shows the incredible growth from a niche hobby to a multi-trillion dollar industry, but also highlights the dramatic boom-and-bust cycles.</p>
                                <div class="chart-container">
                                    <canvas id="marketCapChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card rounded-xl shadow-lg">
                        <button class="accordion-toggle w-full p-6 text-left flex justify-between items-center">
                            <h3 class="text-2xl font-bold">Market Dominance: The Kings and Contenders</h3>
                             <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0">
                                <p class="text-sm text-gray-600 mb-4">While thousands of "altcoins" exist, the market is heavily concentrated. Bitcoin remains king, but Ethereum, stablecoins (digital dollars), and other projects command significant shares.</p>
                                <div class="chart-container">
                                    <canvas id="marketDominanceChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="regulation" class="story-section bg-white/50">
             <div class="max-w-4xl mx-auto w-full">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">The World Lays Down the Law</h2>
                <p class="text-lg text-gray-600 text-center mb-12">Governments can't ignore crypto anymore. But how do you regulate a borderless technology? The answer is complicated, with each country taking a wildly different approach.</p>
                
                <div class="space-y-4">
                    <div class="content-card rounded-xl shadow-lg">
                        <button class="accordion-toggle w-full p-6 text-left flex justify-between items-center">
                            <h3 class="text-2xl font-bold">National Approaches: A Global Tug-of-War</h3>
                             <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0">
                                <p class="text-sm text-gray-600 mb-4">This chart compares how different nations are handling crypto. Some, like the EU, are creating clear rules. Others, like the US, are still figuring it out, while countries like China have banned it outright.</p>
                                <div class="chart-container">
                                    <canvas id="regulationRadarChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="impact" class="story-section">
            <div class="max-w-4xl mx-auto w-full">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">The Double-Edged Sword</h2>
                <p class="text-lg text-gray-600 text-center mb-12">Crypto's integration into the real world brings both huge opportunities and serious risks. It's a technology with the power to build and to break.</p>
                
                <div class="space-y-4">
                    <div class="content-card rounded-xl shadow-lg">
                        <button class="accordion-toggle w-full p-6 text-left flex justify-between items-center">
                            <h3 class="text-2xl font-bold">Systemic Risk: When Bets Get Too Big</h3>
                             <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0">
                                <div class="flex justify-between items-start mb-4">
                                    <p class="text-sm text-gray-600 flex-grow pr-4">The market for "derivatives" (bets on crypto's future price) is 4x larger than the market for buying crypto itself. This creates a hidden risk: a crash in this leveraged betting market could spill over into traditional finance.</p>
                                    <button class="gemini-button explain-button" data-context="Systemic Risk: The market for derivatives (bets on crypto's future price) is 4x larger than the market for buying crypto itself. This creates a hidden risk: a crash in this leveraged betting market could spill over into traditional finance.">✨ Explain</button>
                                </div>
                                <div class="chart-container">
                                    <canvas id="derivativesDonutChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card rounded-xl shadow-lg">
                        <button class="accordion-toggle w-full p-6 text-left flex justify-between items-center">
                            <h3 class="text-2xl font-bold">Illicit Use: The Dark Side</h3>
                             <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0">
                                <p class="text-sm text-gray-600 mb-4">While most crypto use is legitimate, its anonymity appeals to criminals. Scams, fraud, and ransomware are major problems that regulators are trying to crack down on.</p>
                                <div class="chart-container">
                                    <canvas id="illicitFinanceBarChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="casestudy" class="story-section bg-white/50">
            <div class="max-w-4xl mx-auto w-full">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">Case Study: El Salvador's Gamble</h2>
                <p class="text-lg text-gray-600 text-center mb-12">In 2021, El Salvador did something radical: it made Bitcoin an official currency. It was a bold real-world test of crypto's promise. Here's what happened.</p>
                <div class="content-card rounded-xl shadow-lg p-6">
                    <h3 class="text-2xl font-bold text-center mb-4">Adoption & Inclusion Goals Missed</h3>
                    <p class="text-center text-sm text-gray-600 mb-4">Despite a government mandate, usage for daily transactions and remittances remained negligible, failing to bank the unbanked.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="chart-container h-64">
                            <canvas id="elSalvadorAdoptionChart"></canvas>
                        </div>
                        <div class="chart-container h-64">
                            <canvas id="chivoAtmChart"></canvas>
                        </div>
                    </div>
                     <div class="mt-8">
                        <button class="accordion-toggle w-full p-4 text-left flex justify-between items-center bg-gray-100 rounded-lg">
                            <h4 class="text-xl font-bold">What Went Wrong? Key Takeaways</h4>
                             <svg class="chevron w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content">
                            <ul class="space-y-4 p-4">
                                <li class="flex items-start">
                                    <div class="icon-circle bg-[#FFADAD] flex-shrink-0">✗</div>
                                    <span class="ml-4 text-gray-700"><strong>Tech isn't a silver bullet.</strong> Bitcoin couldn't solve deep-rooted economic problems overnight.</span>
                                </li>
                                <li class="flex items-start">
                                    <div class="icon-circle bg-[#FFADAD] flex-shrink-0">✗</div>
                                    <span class="ml-4 text-gray-700"><strong>Trust is everything.</strong> Without proper education and a reliable app, most people were too hesitant to use it.</span>
                                </li>
                                <li class="flex items-start">
                                    <div class="icon-circle bg-[#FFADAD] flex-shrink-0">✗</div>
                                    <span class="ml-4 text-gray-700"><strong>Old money still has power.</strong> Global institutions like the IMF pressured El Salvador, ultimately leading them to reverse the law.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="story-section text-center">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-8 text-gray-800">The Unwritten Future</h2>
                <p class="text-lg text-gray-600 mb-12">The crypto story is far from over. As technology and regulation continue to evolve, three major questions will define the next chapter.</p>
                <div id="future-questions" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="p-6">
                        <h4 class="font-bold text-xl mb-2">1. The DeFi Question</h4>
                        <p class="text-gray-600">How will new laws affect truly decentralized apps that have no central company to regulate?</p>
                    </div>
                    <div class="p-6">
                        <h4 class="font-bold text-xl mb-2">2. The Systemic Risk Question</h4>
                        <p class="text-gray-600">Are rules keeping up with the massive, risky bets being made in the offshore derivatives market?</p>
                    </div>
                    <div class="p-6">
                        <h4 class="font-bold text-xl mb-2">3. The Geopolitical Question</h4>
                        <p class="text-gray-600">How will the battle between the Dollar, a digital Euro, and China's e-CNY affect Bitcoin's future?</p>
                    </div>
                </div>
                <div class="mt-12">
                    <button id="forecast-button" class="gemini-button text-lg px-8 py-4">✨ Forecast Future Trends</button>
                </div>
                <div id="forecast-loader" class="hidden mx-auto mt-8 loader"></div>
                <div id="forecast-results" class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-8"></div>
            </div>
        </footer>
    </main>

    <div id="explanation-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modal-title" class="text-2xl font-bold mb-4"></h3>
            <div id="modal-loader" class="mx-auto loader"></div>
            <p id="modal-explanation" class="text-gray-600"></p>
            <button id="modal-close" class="mt-6 gemini-button">Got it!</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const palette = {
                blue: '#A3B1FF',
                orange: '#FFD6A5',
                green: '#C8E6C9',
                red: '#FFADAD',
                darkGray: '#495057',
                lightGray: '#ADB5BD'
            };

            // --- Gemini API Integration ---
            const modal = document.getElementById('explanation-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalExplanation = document.getElementById('modal-explanation');
            const modalLoader = document.getElementById('modal-loader');
            const modalClose = document.getElementById('modal-close');

            document.querySelectorAll('.explain-button').forEach(button => {
                button.addEventListener('click', async (e) => {
                    e.stopPropagation();
                    const context = e.target.dataset.context;
                    const title = context.split(':')[0];
                    
                    modalTitle.textContent = title;
                    modalExplanation.textContent = '';
                    modalLoader.style.display = 'block';
                    modal.style.display = 'flex';

                    const prompt = `Explain the following concept to a complete beginner in one short, simple paragraph, as if you were explaining it to a 5-year-old: "${context}"`;
                    
                    try {
                        let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                        const payload = { contents: chatHistory };
                        const apiKey = ""; 
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                        
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        const result = await response.json();

                        if (result.candidates && result.candidates[0]?.content?.parts[0]?.text) {
                            modalExplanation.textContent = result.candidates[0].content.parts[0].text;
                        } else {
                            modalExplanation.textContent = 'Sorry, I could not get an explanation at this time.';
                        }
                    } catch (error) {
                        console.error("Gemini API error:", error);
                        modalExplanation.textContent = 'An error occurred while fetching the explanation.';
                    } finally {
                        modalLoader.style.display = 'none';
                    }
                });
            });

            modalClose.addEventListener('click', () => modal.style.display = 'none');
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            const forecastButton = document.getElementById('forecast-button');
            const forecastLoader = document.getElementById('forecast-loader');
            const forecastResults = document.getElementById('forecast-results');
            
            forecastButton.addEventListener('click', async () => {
                forecastLoader.style.display = 'block';
                forecastButton.style.display = 'none';
                forecastResults.innerHTML = '';

                const questions = Array.from(document.querySelectorAll('#future-questions p')).map(p => p.textContent).join(' ');
                const prompt = `Based on these key questions about the future of cryptocurrency, generate three plausible, creative, and distinct future trends or scenarios we might see in the next 5 years. Present them as short, titled paragraphs. For each trend, provide a title wrapped in <h4> tags and the description in <p> tags. Questions: "${questions}"`;

                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    
                    if (result.candidates && result.candidates[0]?.content?.parts[0]?.text) {
                        const trendsHtml = result.candidates[0].content.parts[0].text;
                        // Simple parser to split by <h4>
                        const trends = trendsHtml.split('<h4>').slice(1);
                        trends.forEach(trend => {
                            const card = document.createElement('div');
                            card.className = 'content-card rounded-xl shadow-lg p-6 text-left';
                            card.innerHTML = `<h4>${trend.replace(/<\/h4>/, '</h4>')}`;
                            forecastResults.appendChild(card);
                        });
                    } else {
                        forecastResults.innerHTML = '<p class="text-center col-span-3">Could not generate trends at this time.</p>';
                    }
                } catch (error) {
                    console.error("Gemini API error:", error);
                    forecastResults.innerHTML = '<p class="text-center col-span-3">An error occurred while fetching future trends.</p>';
                } finally {
                    forecastLoader.style.display = 'none';
                }
            });


            // --- Existing Chart and UI Logic ---
            const accordionToggles = document.querySelectorAll('.accordion-toggle');
            accordionToggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const content = toggle.nextElementSibling;
                    toggle.classList.toggle('open');
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                });
            });

            const wrapLabel = (str, maxLen = 16) => {
                if (typeof str !== 'string' || str.length <= maxLen) return str;
                const words = str.split(' ');
                const lines = [];
                let currentLine = '';
                for (const word of words) {
                    if ((currentLine + word).length > maxLen && currentLine.length > 0) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                }
                lines.push(currentLine.trim());
                return lines;
            };

            const tooltipConfig = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        }
                    }
                }
            };

            const baseChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: palette.darkGray, font: { family: "'Lato', sans-serif" } } },
                    ...tooltipConfig.plugins
                }
            };

            const cartesianChartOptions = {
                ...baseChartOptions,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: { color: palette.lightGray, font: { family: "'Lato', sans-serif" } }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: palette.lightGray, font: { family: "'Lato', sans-serif" } }
                    }
                }
            };
            
            const radarChartOptions = {
                ...baseChartOptions,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                        grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: { color: palette.darkGray, font: { size: 12, family: "'Lato', sans-serif" } },
                        ticks: { color: palette.darkGray, backdropColor: 'rgba(255, 255, 255, 0.75)' }
                    }
                }
            };
            
            const marketCapCtx = document.getElementById('marketCapChart');
            if(marketCapCtx) {
                new Chart(marketCapCtx, {
                    type: 'line',
                    data: {
                        labels: ['2015', '2017', '2019', '2021', '2023', '2025'],
                        datasets: [{
                            label: 'Total Market Cap (Trillion USD)',
                            data: [0.007, 0.14, 0.2, 2.5, 1.2, 4.0],
                            borderColor: palette.blue,
                            backgroundColor: 'rgba(163, 177, 255, 0.2)',
                            fill: true,
                            tension: 0.4,
                        }]
                    },
                    options: cartesianChartOptions
                });
            }

            const marketDominanceCtx = document.getElementById('marketDominanceChart');
            if(marketDominanceCtx) {
                new Chart(marketDominanceCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Bitcoin', 'Ethereum', 'Stablecoins', 'Other Altcoins'],
                        datasets: [{
                            label: 'Market Share %',
                            data: [45, 18, 12, 25],
                            backgroundColor: [palette.orange, palette.blue, palette.green, palette.lightGray],
                            borderRadius: 4,
                        }]
                    },
                    options: { ...cartesianChartOptions, plugins: { ...cartesianChartOptions.plugins, legend: { display: false } } }
                });
            }

            const regulationRadarCtx = document.getElementById('regulationRadarChart');
            if(regulationRadarCtx) {
                new Chart(regulationRadarCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Legal Clarity', 'Favorable Tax', 'Clear Regulation', 'Light Enforcement', 'Pro-Innovation'],
                        datasets: [
                            { label: 'EU (MiCAR)', data: [4, 3, 5, 4, 4], backgroundColor: 'rgba(163, 177, 255, 0.2)', borderColor: palette.blue },
                            { label: 'USA (Post-GENIUS)', data: [3, 3, 4, 2, 4], backgroundColor: 'rgba(200, 230, 201, 0.2)', borderColor: palette.green },
                            { label: 'China (Ban)', data: [1, 1, 1, 1, 1], backgroundColor: 'rgba(255, 173, 173, 0.2)', borderColor: palette.red }
                        ]
                    },
                    options: radarChartOptions
                });
            }

            const derivativesDonutCtx = document.getElementById('derivativesDonutChart');
            if(derivativesDonutCtx) {
                new Chart(derivativesDonutCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Derivatives Market', 'Spot Market'],
                        datasets: [{
                            data: [1.33, 0.34],
                            backgroundColor: [palette.blue, palette.orange],
                            borderColor: '#F8F9FA',
                            borderWidth: 4
                        }]
                    },
                    options: baseChartOptions
                });
            }

            const illicitFinanceBarCtx = document.getElementById('illicitFinanceBarChart');
            if(illicitFinanceBarCtx) {
                new Chart(illicitFinanceBarCtx, {
                    type: 'bar',
                    data: {
                        labels: [wrapLabel('Fraud & Scams (Annual)'), wrapLabel('Ransomware (Annual)'), wrapLabel('State-Sponsored Theft (Total)')],
                        datasets: [{
                            label: 'Value in Billion USD',
                            data: [51, 0.9, 3.5],
                            backgroundColor: [palette.red, palette.orange, palette.darkGray],
                            borderRadius: 4
                        }]
                    },
                    options: { 
                        ...baseChartOptions, 
                        indexAxis: 'y', 
                        plugins: { 
                            ...baseChartOptions.plugins, 
                            legend: { display: false } 
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                ticks: { color: palette.lightGray, font: { family: "'Lato', sans-serif" } }
                            },
                            y: {
                                grid: { display: false },
                                ticks: { color: palette.lightGray, font: { family: "'Lato', sans-serif" } }
                            }
                        }
                    }
                });
            }

            const elSalvadorAdoptionCtx = document.getElementById('elSalvadorAdoptionChart');
            if(elSalvadorAdoptionCtx) {
                new Chart(elSalvadorAdoptionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Unbanked (Goal)', 'Consumer Use', 'Remittance Use'],
                        datasets: [{
                            label: 'Percentage (%)',
                            data: [70, 12, 1],
                            backgroundColor: [palette.lightGray, palette.blue, palette.red],
                            borderRadius: 4
                        }]
                    },
                    options: { ...cartesianChartOptions, plugins: { ...cartesianChartOptions.plugins, legend: { display: false } }, scales: { ...cartesianChartOptions.scales, y: {...cartesianChartOptions.scales.y, ticks: { ...cartesianChartOptions.scales.y.ticks, callback: (v) => v+'%' } } } }
                });
            }

            const chivoAtmCtx = document.getElementById('chivoAtmChart');
            if(chivoAtmCtx) {
                new Chart(chivoAtmCtx, {
                    type: 'pie',
                    data: {
                        labels: ['ATMs in Poorest Rural Areas', 'ATMs Elsewhere'],
                        datasets: [{
                            data: [4.9, 95.1],
                            backgroundColor: [palette.red, palette.blue],
                            borderColor: '#F8F9FA',
                            borderWidth: 4
                        }]
                    },
                    options: baseChartOptions
                });
            }
        });
    </script>
</body>
</html>
